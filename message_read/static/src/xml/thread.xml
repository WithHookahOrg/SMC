<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

	<t t-extend="mail.widget.Thread.Message">
		<t t-jquery='.o_thread_message_content' t-operation="replace">
			<div class="o_thread_message_content">
                    <t t-raw="message.getBody()"/>
                    <span style="color:green" t-if="message.getopen()" t-raw="message.getopen()"/>
                    <t t-if="message.hasTrackingValues()">
                        <t t-if="message.hasSubtypeDescription()">
                            <p><t t-esc="message.getSubtypeDescription()"/></p>
                        </t>
                        <t t-call="mail.widget.Thread.MessageTracking"/>
                    </t>
                    <p t-if="options.displaySubjectOnMessages and message.shouldDisplaySubject()" class="o_mail_subject">Subject: <t t-esc="message.getSubject()"/></p>
                    <t t-if="message.hasAttachments()">
                        <div t-if="message.hasImageAttachments()" class="o_attachments_previews">
                            <t t-foreach="message.getImageAttachments()" t-as="attachment">
                                <t t-call="mail.AttachmentPreview">
                                    <t t-set="isDeletable" t-value="options.hasMessageAttachmentDeletable"/>
                                </t>
                            </t>
                        </div>
                        <div t-if="message.hasNonImageAttachments()" class="o_attachments_list">
                            <t t-foreach="message.getNonImageAttachments()" t-as="attachment">
                                <t t-call="mail.Attachment">
                                    <t t-set="isDeletable" t-value="options.hasMessageAttachmentDeletable"/>
                                </t>
                            </t>
                        </div>
                    </t>
                </div>
		</t>
        <t t-jquery='span[t-attf-class=o_thread_icons]' t-operation="replace">

                <span t-attf-class="o_thread_icons">
                        <t t-if="thread.hasSeenFeature()" t-call="mail.widget.Thread.Message.SeenIcon"/>
                        <i t-if="options.displayStars and !message.isSystemNotification() and !message.needsModeration()"
                            t-att-class="'fa fa-lg o_thread_icon o_thread_message_star ' + (message.isStarred() ? 'fa-star' : 'fa-star-o')"
                            t-att-data-message-id="message.getID()" title="Mark as Todo" role="img" aria-label="Mark as Todo"/>
                        <t t-if="message.getopen()">
                            <i class="fa fa-eye" style="color:#6161bd" role="img" aria-label="Message Seen"/>
                        </t>
                       <i t-if="message.isLinkedToDocumentThread() and options.displayReplyIcons"
                           class="fa fa-reply o_thread_icon o_thread_message_reply"
                           t-att-data-message-id="message.getID()" title="Reply" role="img" aria-label="Reply"/>
                        <i t-if="message.isNeedaction() and options.displayMarkAsRead"
                           class="fa fa-check o_thread_icon o_thread_message_needaction"
                           t-att-data-message-id="message.getID()" title="Mark as Read" role="img" aria-label="Mark as Read"/>

                        <t t-if="message.needsModeration() and message.originatesFromChannel()">
                            <t t-call="mail.MessageModeration"/>
                        </t>
                    </span>
		</t>
    </t>
</templates>
